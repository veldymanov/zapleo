"use strict";function loadImage(t){var e=t.querySelectorAll(".js-lazy-src"),r=t.querySelectorAll(".js-lazy-img");e.forEach(function(t){return t.srcset=t.getAttribute("data-srcset")}),r.forEach(function(t){return t.src=t.getAttribute("data-src")})}function filterHeight(){var t=0,e=0,r=0,o=[],n=[],i=document.querySelectorAll(".js-custom-items .js-custom-item"),a=!0,l=!1,s=void 0;try{for(var c,u=i[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var y=c.value,d=window.getComputedStyle(y),f=parseInt(d.getPropertyValue("margin-top"),10),v=parseInt(d.getPropertyValue("margin-bottom"),10),m=parseInt(d.getPropertyValue("margin-right"),10),h=parseInt(d.getPropertyValue("margin-left"),10);o.push(y.offsetWidth+m+h),n.push(y.offsetHeight+f+v)}}catch(t){l=!0,s=t}finally{try{!a&&u.return&&u.return()}finally{if(l)throw s}}var p=document.querySelector(".js-custom-items");p.style.height="auto",t+=p.offsetHeight,r+=p.offsetWidth;var g=Math.max.apply(Math,n);e=Math.max(Math.ceil(t/Math.floor(r/Math.max.apply(Math,o))),g),p.style.height=e+"px";for(var S=0;p.scrollWidth>p.offsetWidth&&(e+=20,p.style.height=e+"px",!(S>300));)S++;console.log(S)}document.addEventListener("DOMContentLoaded",function(t){function e(){var t=document.querySelector("main+footer"),e=window.getComputedStyle(t),r=parseInt(e.getPropertyValue("margin-top"),10),o=parseInt(e.getPropertyValue("margin-bottom"),10),n=t.offsetHeight+r+o;document.querySelector("main").style.marginBottom=n+"px"}function r(){o.querySelector("nav").classList.remove("displayed"),i.classList.remove("noscroll"),setTimeout(function(){o.style.display="none",n.classList.remove("active")},250)}e(),window.addEventListener("resize",function(){e()});var o=document.querySelector(".mob-menu"),n=document.querySelector(".sandwich"),i=document.querySelector("body");n.addEventListener("click",function(){this.classList.contains("active")?r():(this.classList.add("active"),i.classList.add("noscroll"),setTimeout(function(){o.style.display="block",setTimeout(function(){o.querySelector("nav").classList.add("displayed")},250)},500))}),o.addEventListener("click",function(t){o.querySelector("nav").contains(t.target)||r()}),document.querySelector(".js-custom-items")&&function(){document.querySelector(".js-column")&&(filterHeight(),window.addEventListener("resize",function(){filterHeight()}));try{document.createEvent("TouchEvent");var t=document.querySelectorAll(".js-custom-item figure"),e=!0,r=!1,o=void 0;try{for(var n,i=t[Symbol.iterator]();!(e=(n=i.next()).done);e=!0)n.value.addEventListener("mouseenter",function(t){this.querySelector("figcaption").style.zIndex="-1"})}catch(t){r=!0,o=t}finally{try{!e&&i.return&&i.return()}finally{if(r)throw o}}var a=document.querySelectorAll(".js-custom-item picture"),l=!0,s=!1,c=void 0;try{for(var u,y=a[Symbol.iterator]();!(l=(u=y.next()).done);l=!0)u.value.addEventListener("click",function(t){t.preventDefault();var e=document.querySelectorAll(".js-custom-item figure"),r=!0,o=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done);r=!0)i.value.classList.remove("hovered")}catch(t){o=!0,n=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw n}}this.closest("figure").classList.add("hovered")})}catch(t){s=!0,c=t}finally{try{!l&&y.return&&y.return()}finally{if(s)throw c}}}catch(t){}var d=document.querySelectorAll(".js-custom-item"),f=document.querySelectorAll(".js-product-filter .js-data-term"),v=!0,m=!1,h=void 0;try{for(var p,g=f[Symbol.iterator]();!(v=(p=g.next()).done);v=!0){var S=p.value,b=S.getAttribute("data-term"),x=!0,q=!0,w=!1,L=void 0;try{for(var j,E=d[Symbol.iterator]();!(q=(j=E.next()).done);q=!0)j.value.classList.contains(b)&&(x=!1)}catch(t){w=!0,L=t}finally{try{!q&&E.return&&E.return()}finally{if(w)throw L}}"*"!==b&&x&&(S.closest("li").style.display="none")}}catch(t){m=!0,h=t}finally{try{!v&&g.return&&g.return()}finally{if(m)throw h}}var I=!0,A=!1,H=void 0;try{for(var M,k=f[Symbol.iterator]();!(I=(M=k.next()).done);I=!0)!function(t){var e=["click","touchend"],r=!0,o=!1,n=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var l=i.value;t.addEventListener(l,function(e){e.preventDefault();var r=!0,o=!1,n=void 0;try{for(var i,a=f[Symbol.iterator]();!(r=(i=a.next()).done);r=!0)i.value.classList.remove("active")}catch(t){o=!0,n=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw n}}t.classList.add("active");var l=!0,s=!1,c=void 0;try{for(var u,y=d[Symbol.iterator]();!(l=(u=y.next()).done);l=!0){var v=u.value;v.style.display="none",v.style.position="relative",v.style.top="20px"}}catch(t){s=!0,c=t}finally{try{!l&&y.return&&y.return()}finally{if(s)throw c}}var m=t.getAttribute("data-term"),h=!0,p=!1,g=void 0;try{for(var S,b=d[Symbol.iterator]();!(h=(S=b.next()).done);h=!0)!function(t){"*"===m?(t.style.display="block",t.style.transition="top 0s",setTimeout(function(){t.style.top="0px",t.style.transitionDuration="150ms"},0)):t.classList.contains(m)&&(t.style.display="block",t.style.transition="top 0s",setTimeout(function(){t.style.top="0px",t.style.transitionDuration="150ms"},0))}(S.value)}catch(t){p=!0,g=t}finally{try{!h&&b.return&&b.return()}finally{if(p)throw g}}document.querySelector(".js-column")&&filterHeight()},!1)}}catch(t){o=!0,n=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw n}}}(M.value)}catch(t){A=!0,H=t}finally{try{!I&&k.return&&k.return()}finally{if(A)throw H}}}();var a=document.querySelectorAll(".js-lazy-load"),l={root:null,rootMargin:"0px 0px 0px 0px",threshold:[0]};if("IntersectionObserver"in window){console.log("IntersectionObserver started");var s=new IntersectionObserver(function(t){t.forEach(function(t){t.intersectionRatio>0&&(s.unobserve(t.target),loadImage(t.target),document.querySelector(".js-column")&&(filterHeight(),t.target.querySelector(".js-lazy-img").addEventListener("load",function(){filterHeight()})))})},l);a.forEach(function(t){return s.observe(t)})}else console.log("IntersectionObserver is not supported"),a.forEach(function(t){return loadImage(t)})});