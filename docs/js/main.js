"use strict";function loadImage(t){var e=t.querySelectorAll(".js-lazy-src"),o=t.querySelectorAll(".js-lazy-img");e.forEach(function(t){return t.srcset=t.getAttribute("data-srcset")}),o.forEach(function(t){return t.src=t.getAttribute("data-src")})}function filterHeight(){var t=0,e=0,o=0,r=[],n=[],i=document.querySelectorAll(".js-custom-items .js-custom-item"),s=!0,c=!1,a=void 0;try{for(var l,u=i[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){var d=l.value,f=window.getComputedStyle(d),m=parseInt(f.getPropertyValue("margin-top"),10),y=parseInt(f.getPropertyValue("margin-bottom"),10),h=parseInt(f.getPropertyValue("margin-right"),10),p=parseInt(f.getPropertyValue("margin-left"),10);r.push(d.offsetWidth+h+p),n.push(d.offsetHeight+m+y)}}catch(t){c=!0,a=t}finally{try{!s&&u.return&&u.return()}finally{if(c)throw a}}var v=document.querySelector(".js-custom-items");v.style.height="auto",t+=v.offsetHeight,o+=v.offsetWidth;var g=Math.max.apply(Math,n);e=Math.max(Math.ceil(t/Math.floor(o/Math.max.apply(Math,r))),g),v.style.height=e+"px";for(var E=0;v.scrollWidth>v.offsetWidth&&(e+=20,v.style.height=e+"px",!(E>300));)E++;console.log(E)}document.addEventListener("DOMContentLoaded",function(t){function e(){var t=document.querySelector("main+footer"),e=window.getComputedStyle(t),o=parseInt(e.getPropertyValue("margin-top"),10),r=parseInt(e.getPropertyValue("margin-bottom"),10),n=t.offsetHeight+o+r;document.querySelector("main").style.marginBottom=n+"px"}function o(){r.querySelector("nav").classList.remove("displayed"),i.classList.remove("noscroll"),setTimeout(function(){r.style.display="none",n.classList.remove("active")},250)}e(),window.addEventListener("resize",function(){e()});var r=document.querySelector(".mob-menu"),n=document.querySelector(".sandwich"),i=document.querySelector("body");if(n.addEventListener("click",function(){this.classList.contains("active")?o():(this.classList.add("active"),i.classList.add("noscroll"),setTimeout(function(){r.style.display="block",setTimeout(function(){r.querySelector("nav").classList.add("displayed")},250)},500))}),r.addEventListener("click",function(t){r.querySelector("nav").contains(t.target)||o()}),document.querySelector(".js-custom-items")){var s=document.querySelectorAll(".js-custom-item figure"),c=document.querySelectorAll(".js-custom-item picture"),a=document.querySelectorAll(".js-custom-item"),l=document.querySelectorAll(".js-product-filter .js-data-term");document.querySelector(".js-column")&&(filterHeight(),window.addEventListener("resize",function(){filterHeight()})),window.addEventListener("touchstart",function t(e){e.preventDefault(),document.querySelectorAll(".underline").forEach(function(t){t.addEventListener("mouseenter",function(){return t.style.color="rgb(138, 138, 138)"})}),s.forEach(function(t){t.addEventListener("mouseenter",function(){return t.querySelector("figcaption").style.zIndex="-1"})}),c.forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),s.forEach(function(t){return t.classList.remove("hovered")}),t.closest("figure").classList.add("hovered")})}),window.removeEventListener("touchstart",t)}),l.forEach(function(t){var e=t.getAttribute("data-term"),o=!0;a.forEach(function(t){t.classList.contains(e)&&(o=!1)}),"*"!==e&&o&&(t.closest("li").style.display="none")});l.forEach(function(t){["click","touchend"].forEach(function(e){t.addEventListener(e,function(e){e.preventDefault(),l.forEach(function(t){return t.classList.remove("active")}),t.classList.add("active"),a.forEach(function(t){t.style.display="none",t.style.position="relative",t.style.top="20px"});var o=t.getAttribute("data-term");a.forEach(function(t){"*"===o?(t.style.display="block",t.style.transition="top 0s",setTimeout(function(){t.style.top="0px",t.style.transitionDuration="150ms"},0)):t.classList.contains(o)&&(t.style.display="block",t.style.transition="top 0s",setTimeout(function(){t.style.top="0px",t.style.transitionDuration="150ms"},0))}),document.querySelector(".js-column")&&filterHeight()},!1)})})}var u=document.querySelectorAll(".js-lazy-load"),d={root:null,rootMargin:"0px 0px 0px 0px",threshold:[0]};if("IntersectionObserver"in window){console.log("IntersectionObserver started");var f=new IntersectionObserver(function(t){t.forEach(function(t){t.intersectionRatio>0&&(f.unobserve(t.target),loadImage(t.target),document.querySelector(".js-column")&&(filterHeight(),t.target.querySelector(".js-lazy-img").addEventListener("load",function(){filterHeight()})))})},d);u.forEach(function(t){return f.observe(t)})}else console.log("IntersectionObserver is not supported"),u.forEach(function(t){return loadImage(t)})});